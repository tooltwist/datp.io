(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{616:function(t,n,e){"use strict";e.r(n);var a=e(60),s=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"polling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#polling"}},[t._v("#")]),t._v(" Polling")]),t._v(" "),e("p",[t._v("When your application invokes a transaction using DATP, the transaction is asynchronous and can take anything from milliseconds up to hours or even days to complete.")]),t._v(" "),e("p",[t._v("If your application's API invokes the transaction, it will usually not wait for the transaction\nto complete before it returns. Your application will typically let DATP handle the API return.")]),t._v(" "),e("p",[t._v("By default, DATP will start the transaction and then return immediately, and the client\nwill need to repeatedly call the server to determine when the transaction\nhas completed and to get the transaction result.")]),t._v(" "),e("h2",{attrs:{id:"short-polling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#short-polling"}},[t._v("#")]),t._v(" Short polling")]),t._v(" "),e("p",[t._v("With "),e("em",[t._v("short polling")]),t._v(" the server returns the transaction status\nimmediately. Short polling can be used when the transaction is initiated, and also when polling\nfor the transaction status. Each time, the current status of the transaction is immediately\nreturned, without waiting.")]),t._v(" "),e("p",[t._v("While short polling is the default, it can be explicitly requested for clarity:")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"metadata"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reply"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shortpoll"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h2",{attrs:{id:"long-polling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#long-polling"}},[t._v("#")]),t._v(" Long polling")]),t._v(" "),e("p",[t._v("For fast running transactions "),e("em",[t._v("long polling")]),t._v(" can be used.")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"metadata"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reply"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"longpoll"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v('In this case the API will not reply immediately, but will instead pause for a while in the hope\nthat the transaction will complete quickly and it can return the final transaction status. If the\ntransaction takes too long to complete the API returns a status of "running" and the client\nwill need to use short polling to wait for the final transaction status.')]),t._v(" "),e("blockquote",[e("p",[t._v("Note: Only use long polling in situations where you have reason to\nbelieve that transaction completion is imminent, as long polling keeps the NodeJS\nresponse objects open and excessive use may impact performance or scaleability.")])])])}),[],!1,null,null,null);n.default=s.exports}}]);